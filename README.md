üé® Telegram-–±–æ—Ç –¥–ª—è —Å—Ç—É–¥–∏–∏ –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–æ–π –ª–µ–ø–∫–∏ ¬´–õ–µ–ø–∫–æ¬ª
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, –æ–ø–ª–∞—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
üìÖ –í—ã–±–æ—Ä –¥–∞—Ç—ã –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞ (—Ç–æ–ª—å–∫–æ –±—É–¥—É—â–∏–µ –¥–∞—Ç—ã)
üñºÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞
‚è∞ –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏: 11:00, 13:00, 15:00, 17:00, 18:30
üë• –£–∫–∞–∑–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (1‚Äì10 —á–µ–ª–æ–≤–µ–∫)
üì± –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –∏ –∏–º–µ–Ω–∏
üí≥ –û–ø–ª–∞—Ç–∞ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã 500 ‚ÇΩ √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ –ÆKassa
üîî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ —Å—É—Ç–∫–∏ –¥–æ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞
–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
üõ†Ô∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (/admin –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ ¬´–ê–¥–º–∏–Ω–∫–∞¬ª)
üì∏ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É
üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–æ–≤ –ø–æ –∑–∞–ø–∏—Å—è–º
üì§ –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—Å–µ–º –∑–∞–ø–∏—Å–∞–≤—à–∏–º—Å—è
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å—è—Ö
–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç (–º–∞–∫—Å. 10 —á–µ–ª–æ–≤–µ–∫ –Ω–∞ —Å–ª–æ—Ç)
–•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ –≤ Telegram)
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã –î–î-–ú–ú-–ì–ì–ì–ì –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ö–Ω–æ–ø–∫–∞ ¬´–ù–∞–∑–∞–¥¬ª –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –∑–∞–ø–∏—Å–∏
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ (capture: true)
Polling —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞ (–µ—Å–ª–∏ –≤–µ–±—Ö—É–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
Node.js + Telegraf ‚Äî Telegram Bot API
SQLite ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–ÆKassa ‚Äî –ø—Ä–∏—ë–º –ø–ª–∞—Ç–µ–∂–µ–π
date-fns ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
Express ‚Äî –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (–¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤)
node-cron ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
bash
12
git clone https://github.com/yourname/tg_lepko.git
cd tg_lepko
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
bash
1
–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
env
12345
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞_–∏–∑_BotFather
YOO_SHOP_ID=–≤–∞—à_shop_id_–∏–∑_–ÆKassa
YOO_SECRET_KEY=–≤–∞—à_secret_key_–∏–∑_–ÆKassa
ADMIN_IDS=123456789,987654321  # user_id –∞–¥–º–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
WEBHOOK_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com  # —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–µ–±—Ö—É–∫
–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –ø–∞–ø–∫–∏
bash
12
mkdir uploads public
# –ü–æ–ª–æ–∂–∏—Ç–µ default.jpg –≤ –ø–∞–ø–∫—É public/
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
bash
1
‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ÆKassa
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ÆKassa
–ü–æ–ª—É—á–∏—Ç–µ Shop ID –∏ Secret Key
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ ¬´–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º¬ª –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö API
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–µ–±—Ö—É–∫ ‚Äî —É–∫–∞–∂–∏—Ç–µ URL —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
1
https://–≤–∞—à-–¥–æ–º–µ–Ω.com/yookassa-webhook
‚ö†Ô∏è –í–∞–∂–Ω–æ: –ÆKassa —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑ –†–æ—Å—Å–∏–∏. –ï—Å–ª–∏ –≤—ã –≤ –°–ù–ì ‚Äî —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ CloudPayments –∏–ª–∏ Fondy.

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
123456789101112
tg_lepko/
‚îú‚îÄ‚îÄ index.js              # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ scenes/
‚îÇ   ‚îî‚îÄ‚îÄ booking.js        # —Å—Ü–µ–Ω–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –ú–ö
‚îú‚îÄ‚îÄ db.js                 # —Ä–∞–±–æ—Ç–∞ —Å SQLite
‚îú‚îÄ‚îÄ yookassa.js           # –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ÆKassa
‚îú‚îÄ‚îÄ admin.js              # –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ cron.js               # –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ —Å—É—Ç–∫–∏
‚îú‚îÄ‚îÄ uploads/              # —Ñ–æ—Ç–æ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–≤
‚îú‚îÄ‚îÄ public/

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
–ù–∞–∂–º–∏—Ç–µ /start
–ü—Ä–æ–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å—å –Ω–∞ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å
–ê–¥–º–∏–Ω: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ /admin ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç—á—ë—Ç—ã
üåê –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ
–õ–æ–∫–∞–ª—å–Ω–æ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è long polling (bot.launch())
–ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ IP
–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø—Ä–æ–¥–∞–∫—à–µ–Ω):
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±—Ö—É–∫ + –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏:
Render
Railway
–†–æ—Å—Å–∏–π—Å–∫–∏–π VPS (Selectel, Rusonyx)
üìù –õ–∏—Ü–µ–Ω–∑–∏—è
MIT ¬© Oleg Kiselev